suite: configmap-etc_test.yaml
templates:
  - templates/configmap-etc.yaml
tests:
  - it: "should render ConfigMap with specified string data"
    set:
      conf:
        backends:
          nfs:
            nfs_shares_config: "test_content_1"
    asserts:
      - equal:
          path: data.nfs-nfs
          value: |
            dGVzdF9jb250ZW50XzE=

  - it: "should render ConfigMap with specified list data"
    set:
      conf:
        backends:
          nfs:
            nfs_shares_config:
              - "test_content_1"
              - "test_content_2"
    asserts:
      - equal:
          path: data.nfs-nfs
          value: |
            dGVzdF9jb250ZW50XzEKdGVzdF9jb250ZW50XzI=
